<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Казино</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script> <!-- <-- ВАЖНО: Подключаем скрипт Telegram WebApp -->
    <style>
        body { margin: 0; font-family: Arial, sans-serif; display: flex; flex-direction: column; height: 100vh; background-color: #2c2f33; color: #fff; overflow: hidden; background-image: url("https://raw.githubusercontent.com/SaweNap/e6r8435trb8ertr.io/refs/heads/main/2313.png"); background-repeat: no-repeat; background-position: center; background-size: cover; }
        .content { flex: 1; display: flex; align-items: center; justify-content: center; font-size: 2vw; position: relative; z-index: 1; }
        .image-button { position: fixed; top: 10%; right: 8%; background: none; border: none; padding: 0; cursor: pointer; outline: none; z-index: 1000; }
        .image-button img { width: 30vw; max-width: 250px; height: auto; border-radius: 15px; display: block; }
        @media (max-width: 400px) { .image-button img { width: 35vw; } .content { font-size: 4vw; } }
        .bottom-nav { position: fixed; bottom: 0; width: 100%; display: flex; justify-content: center; align-items: center; padding: 10px 0; z-index: 999; }
        .bottom-nav button { background-color: #610000; color: #fff; border: none; padding: 12px 24px; margin: 0 40px; border-radius: 8px; cursor: pointer; font-size: 1.2em; transition: background-color 0.3s; }
        .bottom-nav button:hover { background-color: #610000a4; }
    </style>
</head>
<body>
    <div class="content">
        <button class="image-button" onclick="window.location.href='https://sawenap.github.io/d6ftgb8ertgf.io/'">
            <img src="https://raw.githubusercontent.com/SaweNap/e6r8435trb8ertr.io/refs/heads/main/BlackJack.jpg" alt="Перейти" />
        </button>
    </div>
    <!-- Навигационное меню -->
    <div class="bottom-nav">
        <button onclick="window.location.href='https://sawenap.github.io/e6r8435trb8ertr.io/'">Игры</button>
        <!-- Кнопка "Профиль" теперь будет формировать динамическую ссылку -->
        <button id="profileButton">Профиль</button>
    </div>

    <script>
      // Инициализация WebApp
      const tg = window.Telegram.WebApp;
      tg.ready();
  
      // Получаем данные пользователя и СРАЗУ ЖЕ сохраняем их в localStorage
      const user = tg.initDataUnsafe.user;
      if (user) {
          localStorage.setItem('userNickname', user.first_name);
          localStorage.setItem('userUsername', user.username || 'N/A');
          localStorage.setItem('userId', user.id);
      }
  
      // Находим кнопки и блоки
      const profileButton = document.getElementById('profileButton');
      const mainMenu = document.getElementById('mainMenu');
      const profileScreen = document.getElementById('profileScreen');
  
      // Функция для показа профиля
      function showProfile() {
          // Берем данные из localStorage
          const nickname = localStorage.getItem('userNickname') || 'Неизвестно';
          const username = localStorage.getItem('userUsername') || 'Неизвестно';
          const id = localStorage.getItem('userId') || 'Неизвестно';
  
          // Заполняем поля на экране профиля
          document.getElementById('nickname').textContent = `Nickname | ${nickname}`;
          document.getElementById('username').textContent = `@username | ${username}`;
          document.getElementById('id').textContent = `ID TG | ${id}`;
  
          // Скрываем меню и показываем профиль
          mainMenu.style.display = 'none';
          profileScreen.style.display = 'flex';
          profileScreen.style.flexDirection = 'column';
          profileScreen.style.alignItems = 'center';
          profileScreen.style.justifyContent = 'center';
      }
  
      // Функция для возврата в главное меню
      function showMainMenu() {
          profileScreen.style.display = 'none';
          mainMenu.style.display = 'block';
      }
  
      // Вешаем обработчик на кнопку профиля
      if (profileButton) {
          profileButton.onclick = showProfile;
      }
  
      // Остальные твои скрипты (блокировка zoom и т.д.)
      window.addEventListener("wheel", function(e) { if (e.ctrlKey) e.preventDefault(); }, { passive: false });
      window.addEventListener("keydown", function(e) { if (e.ctrlKey) { e.preventDefault(); } });
  </script>
</body>
</html>
